<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Query git Credentials from R • gitcreds</title>
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="deps/Source_Sans_Pro-0.4.9/font.css" rel="stylesheet">
<link href="deps/Source_Code_Pro-0.4.9/font.css" rel="stylesheet">
<link href="deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet">
<link href="deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet">
<script src="deps/headroom-0.11.0/headroom.min.js"></script><script src="deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="deps/search-1.0.0/fuse.min.js"></script><script src="deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Query git Credentials from R">
<meta name="description" content="Query, set, delete credentials from the git credential store. Manage GitHub tokens and other git credentials. This package is to be used by other packages that need to authenticate to GitHub and/or other git repositories.">
<meta property="og:description" content="Query, set, delete credentials from the git credential store. Manage GitHub tokens and other git credentials. This package is to be used by other packages that need to authenticate to GitHub and/or other git repositories.">
<meta name="robots" content="noindex">
<script defer data-domain="gitcreds.r-lib.org,all.tidyverse.org" src="https://plausible.io/js/plausible.js"></script>
</head>
<body>
    <a href="#container" class="visually-hidden-focusable">Skip to content</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-none" data-bs-theme="default" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="index.html">gitcreds</a>

    <small class="nav-text text-danger me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="In-development version">0.1.2.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="articles/package.html">For package authors</a></li>
<li class="nav-item"><a class="nav-link" href="news/index.html">News</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/r-lib/gitcreds/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-home" id="container">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header"><h1 id="gitcreds">gitcreds<a class="anchor" aria-label="anchor" href="#gitcreds"></a>
</h1></div>
<blockquote>
<p>Query git credentials from R</p>
</blockquote>
<!-- badges: start -->

<div class="section level2">
<h2 id="features">Features<a class="anchor" aria-label="anchor" href="#features"></a>
</h2>
<ul>
<li><p>(Re)use the same credentials in command line git, R and the RStudio IDE., etc. Users can set their GitHub token once and use it everywhere.</p></li>
<li><p>Typically more secure than storing passwords and tokens in <code>.Renviron</code> files.</p></li>
<li><p>gitcreds has a cache that makes credential lookup very fast.</p></li>
<li><p>gitcreds supports multiple users and multiple hosts, including Enterprise GitHub installations.</p></li>
<li><p>If git or git credential helpers are not available, e.g. typically on a Linux server, or a CI, then gitcreds can fall back to use environment variables, and it still supports multiple users and hosts.</p></li>
</ul>
</div>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>Install the package from CRAN:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"gitcreds"</span><span class="op">)</span></span></code></pre></div>
<p>Install the development version from GitHub:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">pak</span><span class="fu">::</span><span class="fu"><a href="https://pak.r-lib.org/reference/pak.html" class="external-link">pak</a></span><span class="op">(</span><span class="st">"r-lib/gitcreds"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="usage">Usage<a class="anchor" aria-label="anchor" href="#usage"></a>
</h2>
<p>gitcreds is typically used upstream, in R packages that need to authenticate to git or GitHub. End users of these packages might still find it useful to call gitcreds directly, to set up their credentials, or check that they have been set up correctly.</p>
<p>You can also use gitcreds in an R script. In this case you are both the end user and the upstream developer.</p>
<div class="section level3">
<h3 id="usage-as-an-end-user">Usage as an end user<a class="anchor" aria-label="anchor" href="#usage-as-an-end-user"></a>
</h3>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://gitcreds.r-lib.org/" class="external-link">gitcreds</a></span><span class="op">)</span></span></code></pre></div>
<p>Use <code><a href="reference/gitcreds_get.html">gitcreds_get()</a></code> to check your GitHub or other git credentials. It returns a named list, with a <code>password</code> entry. The password is not printed by default:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/gitcreds_get.html">gitcreds_get</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#&gt; &lt;gitcreds&gt;</span></span>
<span><span class="co">#&gt;   protocol: https</span></span>
<span><span class="co">#&gt;   host    : github.com</span></span>
<span><span class="co">#&gt;   username: gaborcsardi</span></span>
<span><span class="co">#&gt;   password: &lt;-- hidden --&gt;</span></span></code></pre></div>
<p>Use <code><a href="reference/gitcreds_get.html">gitcreds_set()</a></code> to add new credentials, or replace existing ones. It always asks you before replacing existing credentials:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/gitcreds_get.html">gitcreds_set</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#&gt; -&gt; Your current credentials for 'https://github.com':</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;   protocol: https</span></span>
<span><span class="co">#&gt;   host    : github.com</span></span>
<span><span class="co">#&gt;   username: gaborcsardi</span></span>
<span><span class="co">#&gt;   password: &lt;-- hidden --&gt;</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; -&gt; What would you like to do?</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; 1: Keep these credentials</span></span>
<span><span class="co">#&gt; 2: Replace these credentials</span></span>
<span><span class="co">#&gt; 3: See the password / token</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Selection: 2</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; ? Enter new password or token: secret</span></span>
<span><span class="co">#&gt; -&gt; Removing current credentials...</span></span>
<span><span class="co">#&gt; -&gt; Adding new credentials...</span></span>
<span><span class="co">#&gt; -&gt; Removing credentials from cache...</span></span>
<span><span class="co">#&gt; -&gt; Done.</span></span></code></pre></div>
<p>Use <code><a href="reference/gitcreds_get.html">gitcreds_delete()</a></code> to delete credentials. It always asks you before actually deleting any credentials:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/gitcreds_get.html">gitcreds_delete</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#&gt; -&gt; Your current credentials for 'https://github.com':</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;   protocol: https</span></span>
<span><span class="co">#&gt;   host    : github.com</span></span>
<span><span class="co">#&gt;   username: token</span></span>
<span><span class="co">#&gt;   password: &lt;-- hidden --&gt;</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; -&gt; What would you like to do?</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; 1: Keep these credentials</span></span>
<span><span class="co">#&gt; 2: Delete these credentials</span></span>
<span><span class="co">#&gt; 3: See the password / token</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Selection: 2</span></span>
<span><span class="co">#&gt; -&gt; Removing current credentials...</span></span>
<span><span class="co">#&gt; -&gt; Removing credentials from cache...</span></span>
<span><span class="co">#&gt; -&gt; Done.</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="usage-as-a-package-author">Usage as a package author<a class="anchor" aria-label="anchor" href="#usage-as-a-package-author"></a>
</h3>
<p>If you want to use git’s credentials in your package, call <code><a href="reference/gitcreds_get.html">gitcreds_get()</a></code>. You probably want to handle the various errors it can return. Here is an example for a function that optionally neeeds a GitHub token. It searches the code of a GitHub repository:</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">github_search</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">query</span>, <span class="va">repo</span> <span class="op">=</span> <span class="st">"wch/r-source"</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">token</span> <span class="op">&lt;-</span> <span class="kw"><a href="https://rdrr.io/r/base/conditions.html" class="external-link">tryCatch</a></span><span class="op">(</span></span>
<span>    <span class="fu">gitcreds</span><span class="fu">::</span><span class="fu"><a href="reference/gitcreds_get.html">gitcreds_get</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>    error <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">e</span><span class="op">)</span> <span class="cn">NULL</span></span>
<span>  <span class="op">)</span></span>
<span></span>
<span>  <span class="va">url</span> <span class="op">&lt;-</span> <span class="st">"https://api.github.com/search/code"</span></span>
<span>  <span class="va">q</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>q <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="va">query</span>, <span class="st">"+repo:"</span>, <span class="va">repo</span><span class="op">)</span><span class="op">)</span></span>
<span>  <span class="va">token</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">"token "</span>, <span class="va">token</span><span class="op">$</span><span class="va">password</span><span class="op">)</span></span>
<span></span>
<span>  <span class="fu">httr</span><span class="fu">::</span><span class="fu"><a href="https://httr.r-lib.org/reference/GET.html" class="external-link">GET</a></span><span class="op">(</span><span class="va">url</span>, query <span class="op">=</span> <span class="va">q</span>, <span class="fu">httr</span><span class="fu">::</span><span class="fu"><a href="https://httr.r-lib.org/reference/add_headers.html" class="external-link">add_headers</a></span><span class="op">(</span>Authorization <span class="op">=</span> <span class="va">token</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre></div>
<p>The next example always needs a GitHub token, so it fails without one. It lists the public repositories of the current user:</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">msg</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">wh</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">msgs</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>    no_git <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span></span>
<span>      <span class="st">"No git installation found. You need to install git and set up "</span>,</span>
<span>      <span class="st">"your GitHub Personal Access token using `gitcreds::gitcreds_set()`."</span><span class="op">)</span>,</span>
<span>    no_creds <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span></span>
<span>      <span class="st">"No git credentials found. Please set up your GitHub Personal Access "</span>,</span>
<span>      <span class="st">"token using `gitcreds::gitcreds_set()`."</span><span class="op">)</span></span>
<span>    <span class="op">)</span></span>
<span>  <span class="va">msgs</span><span class="op">[</span><span class="va">wh</span><span class="op">]</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="va">my_private_repos</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">token</span> <span class="op">&lt;-</span> <span class="kw"><a href="https://rdrr.io/r/base/conditions.html" class="external-link">tryCatch</a></span><span class="op">(</span></span>
<span>    <span class="fu">gitcreds</span><span class="fu">::</span><span class="fu"><a href="reference/gitcreds_get.html">gitcreds_get</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>    gitcreds_nogit_error <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">e</span><span class="op">)</span> <span class="kw"><a href="https://rdrr.io/r/base/stop.html" class="external-link">stop</a></span><span class="op">(</span><span class="fu">msg</span><span class="op">(</span><span class="st">"no_git"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    gitcreds_no_credentials <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">e</span><span class="op">)</span> <span class="kw"><a href="https://rdrr.io/r/base/stop.html" class="external-link">stop</a></span><span class="op">(</span><span class="fu">msg</span><span class="op">(</span><span class="st">"no_creds"</span><span class="op">)</span><span class="op">)</span>    </span>
<span>  <span class="op">)</span></span>
<span></span>
<span>  <span class="va">url</span> <span class="op">&lt;-</span> <span class="st">"https://api.github.com/user/repos"</span></span>
<span>  <span class="va">q</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>visibility <span class="op">=</span> <span class="st">"public"</span><span class="op">)</span></span>
<span>  <span class="va">token</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">"token "</span>, <span class="va">token</span><span class="op">$</span><span class="va">password</span><span class="op">)</span></span>
<span></span>
<span>  <span class="fu">httr</span><span class="fu">::</span><span class="fu"><a href="https://httr.r-lib.org/reference/GET.html" class="external-link">GET</a></span><span class="op">(</span><span class="va">url</span>, query <span class="op">=</span> <span class="va">q</span>, <span class="fu">httr</span><span class="fu">::</span><span class="fu"><a href="https://httr.r-lib.org/reference/add_headers.html" class="external-link">add_headers</a></span><span class="op">(</span>Authorization <span class="op">=</span> <span class="va">token</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre></div>
<p>Point your users to <code><a href="reference/gitcreds_get.html">gitcreds_set()</a></code> for adding/updating their credentials, or write your own wrapper for this.</p>
<p>If you want more control or a different UI, take a look at the lower level <code><a href="reference/gitcreds-api.html">gitcreds_fill()</a></code>, <code><a href="reference/gitcreds-api.html">gitcreds_approve()</a></code> and <code><a href="reference/gitcreds-api.html">gitcreds_reject()</a></code> functions.</p>
<p>See also <a href="https://gitcreds.r-lib.org/articles/package.html" class="external-link">gitcreds for package authors</a>.</p>
</div>
</div>
<div class="section level2">
<h2 id="code-of-conduct">Code of Conduct<a class="anchor" aria-label="anchor" href="#code-of-conduct"></a>
</h2>
<p>Please note that the gitcreds project is released with a <a href="https://contributor-covenant.org/version/2/1/CODE_OF_CONDUCT.html" class="external-link">Contributor Code of Conduct</a>. By contributing to this project, you agree to abide by its terms.</p>
</div>
<div class="section level2">
<h2 id="license">License<a class="anchor" aria-label="anchor" href="#license"></a>
</h2>
<p>MIT © <a href="https://github.com/rstudio" class="external-link">RStudio</a></p>
</div>
</div>
  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://cloud.r-project.org/package=gitcreds" class="external-link">View on CRAN</a></li>
<li><a href="https://github.com/r-lib/gitcreds/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/r-lib/gitcreds/issues" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://opensource.org/licenses/mit-license.php" class="external-link">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a></small></li>
</ul>
</div>

<div class="community">
<h2 data-toc-skip>Community</h2>
<ul class="list-unstyled">
<li><a href="CODE_OF_CONDUCT.html">Code of conduct</a></li>
</ul>
</div>

<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing gitcreds</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>
<a href="https://github.com/gaborcsardi" class="external-link">Gábor Csárdi</a> <br><small class="roles"> Author, maintainer </small>  </li>
<li>
<a href="https://www.posit.co" class="external-link"><img src="https://www.tidyverse.org/posit-logo.svg" alt="Posit" height="16" width="62" style="margin-bottom: 3px;"></a> <br><small class="roles"> Copyright holder, funder </small>  </li>
</ul>
</div>

<div class="dev-status">
<h2 data-toc-skip>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/r-lib/gitcreds/actions" class="external-link"><img src="https://github.com/r-lib/gitcreds/workflows/R-CMD-check/badge.svg" alt="R build status"></a></li>
<li><a href="https://app.codecov.io/gh/r-lib/gitcreds?branch=main" class="external-link"><img src="https://codecov.io/gh/r-lib/gitcreds/branch/main/graph/badge.svg" alt="Codecov test coverage"></a></li>
<li><a href="https://github.com/r-lib/gitcreds/actions/workflows/R-CMD-check.yaml" class="external-link"><img src="https://github.com/r-lib/gitcreds/actions/workflows/R-CMD-check.yaml/badge.svg" alt="R-CMD-check"></a></li>
</ul>
</div>

  </aside>
</div>


   </div>
  <footer><div class="container">
  <div class="pkgdown-footer-left">
  <p>Developed by <a href="https://github.com/gaborcsardi" class="external-link">Gábor Csárdi</a>, <a href="https://www.posit.co" class="external-link"><img src="https://www.tidyverse.org/posit-logo.svg" alt="Posit" height="16" width="62" style="margin-bottom: 3px;"></a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.</p>
</div>

  </div></footer>
</body>
</html>
